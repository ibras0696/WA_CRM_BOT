# üìå –§–ò–ù–ê–õ–¨–ù–û–ï –¢–ï–•–ù–ò–ß–ï–°–ö–û–ï –ó–ê–î–ê–ù–ò–ï (MVP)

**–ü—Ä–æ–µ–∫—Ç:** WhatsApp-–±–æ—Ç —É—á—ë—Ç–∞ –≤—ã–¥–∞—á –≤ —Ä–∞—Å—Å—Ä–æ—á–∫—É –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –ø–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º
**–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å:** WhatsApp (Green API)
**–¢–∏–ø —Å–∏—Å—Ç–µ–º—ã:** –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è (—Ç–æ–ª—å–∫–æ ADMIN –∏ WORKER; –∫–ª–∏–µ–Ω—Ç—ã –Ω–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—Ç)
**–¶–µ–ª—å:** —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–∫—Ç—ã –≤—ã–¥–∞—á, –≤–µ—Å—Ç–∏ –ª–∏–º–∏—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞, —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –æ—Ç—á—ë—Ç—ã –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫—É

---

## 1) –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ **—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∞ –∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∫–æ–º–ø–∞–Ω–∏–∏**.
–ö–ª–∏–µ–Ω—Ç—ã **–Ω–µ –ø–∏—à—É—Ç** –±–æ—Ç—É, **–Ω–µ –ø–æ–ª—É—á–∞—é—Ç** —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –±–æ—Ç–∞, **–Ω–µ –∏–º–µ—é—Ç –¥–æ—Å—Ç—É–ø–∞**.

–ë–æ—Ç ‚Äî —ç—Ç–æ **—á–∞—Ç-UI** –¥–ª—è –≤–≤–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏.
–í—Å–µ –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞ —Ä–µ–∞–ª–∏–∑—É—é—Ç—Å—è –Ω–∞ backend (service layer). FSM –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–æ—à–∞–≥–æ–≤–æ–≥–æ —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö.

---

## 2) –†–æ–ª–∏ –∏ –¥–æ—Å—Ç—É–ø

### üëë ADMIN

–ü—Ä–∞–≤–∞:

* –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º –∫–æ–º–ø–∞–Ω–∏–∏
* –ø—Ä–æ—Å–º–æ—Ç—Ä –ø–æ–ª–Ω–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
* —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ, –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è
* –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –±–∞–ª–∞–Ω—Å–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ (—Ñ–∞–∫—Ç–æ–º –æ–ø–µ—Ä–∞—Ü–∏–∏)
* –ª–æ–≥–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π (soft-delete)

–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:

* —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –Ω–µ—Ç

### üë∑ WORKER

–ü—Ä–∞–≤–∞:

* –æ—Ç–∫—Ä—ã—Ç—å —Å–º–µ–Ω—É (–≤–≤–µ—Å—Ç–∏ —Å—Ç–∞—Ä—Ç–æ–≤—É—é —Å—É–º–º—É/–ª–∏–º–∏—Ç –Ω–∞ –≤—ã–¥–∞—á—É)
* —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –æ–ø–µ—Ä–∞—Ü–∏—é (–≤—ã–¥–∞—á–∞/–≤–æ–∑–≤—Ä–∞—Ç —Å—Ä–µ–¥—Å—Ç–≤)
* –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–≤–æ–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏
* –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–≤–æ–π —Ç–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å

–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:

* –Ω–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç –∏ –Ω–µ —É–¥–∞–ª—è–µ—Ç –Ω–∏–∫–∞–∫–∏–µ –∑–∞–ø–∏—Å–∏
* –Ω–µ –≤–∏–¥–∏—Ç —á—É–∂–∏–µ –¥–∞–Ω–Ω—ã–µ

---

## 3) –ë–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞ (–∂—ë—Å—Ç–∫–æ)

### 3.1 –î–µ–Ω—å–≥–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ = –ª–∏–º–∏—Ç –Ω–∞ –≤—ã–¥–∞—á—É

* –£ –∫–∞–∂–¥–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –µ—Å—Ç—å **—Å–º–µ–Ω–∞ (Shift)**, –æ—Ç–∫—Ä—ã–≤–∞–µ–º–∞—è –≤—Ä—É—á–Ω—É—é —É—Ç—Ä–æ–º (—á–µ—Ä–µ–∑ –±–æ—Ç–∞).
* –ü—Ä–∏ –≤—ã–¥–∞—á–µ —Ä–∞—Å—Å—Ä–æ—á–∫–∏ –ª–∏–º–∏—Ç **—É–º–µ–Ω—å—à–∞–µ—Ç—Å—è**.
* –ü–ª–∞—Ç–µ–∂–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤ **–Ω–µ —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç** –ª–∏–º–∏—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ (–≤ MVP).

### 3.2 –ê–≤—Ç–æ–∑–∞–∫—Ä—ã—Ç–∏–µ —Å–º–µ–Ω

* –í—Å–µ –æ—Ç–∫—Ä—ã—Ç—ã–µ —Å–º–µ–Ω—ã –∑–∞–∫—Ä—ã–≤–∞—é—Ç—Å—è **–µ–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 00:00** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
* –ó–∞–∫—Ä—ã—Ç–∏–µ —Å–º–µ–Ω—ã –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –¥–µ–π—Å—Ç–≤–∏–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞.
* –°–æ—Ç—Ä—É–¥–Ω–∏–∫ –º–æ–∂–µ—Ç –∑–∞–∫—Ä—ã—Ç—å —Å–º–µ–Ω—É –≤—Ä—É—á–Ω—É—é –∫–Ω–æ–ø–∫–æ–π ¬´–ó–∞–∫—Ä—ã—Ç—å —Å–º–µ–Ω—É¬ª, —á—Ç–æ–±—ã –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—É—â–∏–µ –æ—Å—Ç–∞—Ç–∫–∏.

### 3.3 –£—Ç—Ä–µ–Ω–Ω–µ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ

* –í 08:00 (–∏–ª–∏ –¥—Ä—É–≥–æ–µ –≤—Ä–µ–º—è –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏) –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç WORKER‚Äô–∞–º —Å–æ–æ–±—â–µ–Ω–∏–µ-–Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ: –æ—Ç–∫—Ä—ã—Ç—å —Å–º–µ–Ω—É –∏ –≤–≤–µ—Å—Ç–∏ —Å—É–º–º—É.

### 3.4 –û–ø–µ—Ä–∞—Ü–∏–∏ –∏ —É–¥–∞–ª–µ–Ω–∏–µ

* –û–ø–µ—Ä–∞—Ü–∏—é —Å–æ–∑–¥–∞—ë—Ç WORKER (–∏–ª–∏ ADMIN).
* –ï—Å—Ç—å –¥–≤–∞ —Ç–∏–ø–∞: —Ä–∞—Å—Å—Ä–æ—á–∫–∏ (—Ü–µ–Ω–∞/–Ω–∞—Ü–µ–Ω–∫–∞/—Å—Ä–æ–∫) –∏ –ø—Ä–æ—á–∏–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (`+`/`-`).
* –£–¥–∞–ª–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤–æ–∑–º–æ–∂–Ω–æ **—Ç–æ–ª—å–∫–æ ADMIN**, —á–µ—Ä–µ–∑ `is_deleted = true`.
* –ù–∏–∫–∞–∫–æ–≥–æ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è.

### 3.5 –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤

* –ï—Å–ª–∏ –ø–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É –∫–∞—Ä–º–∞–Ω—É (`–Ω–∞–ª`/`–±–∞–Ω–∫`) –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ª–∏–º–∏—Ç–∞, –æ–ø–µ—Ä–∞—Ü–∏—è –∑–∞–ø—Ä–µ—â–µ–Ω–∞.

### 3.6 –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —Å—á–∏—Ç–∞–µ—Ç—Å—è –∏–∑ —Ñ–∞–∫—Ç–æ–≤

* –í—Å–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ —Å—á–∏—Ç–∞—é—Ç—Å—è **–∏–∑ —Ñ–∞–∫—Ç–æ–≤ (–æ–ø–µ—Ä–∞—Ü–∏–π)**, –∞ –Ω–µ ‚Äú–≤—Ä—É—á–Ω—É—é –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∏—Ç–æ–≥–æ–≤—ã—Ö –ø–æ–ª–µ–π‚Äù.

---

## 4) –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫ (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω)

### Backend

* Python 3.11+
* PostgreSQL
* SQLAlchemy ORM **async**
* Pydantic (–≤–∞–ª–∏–¥–∞—Ü–∏—è, DTO)
* Alembic (–º–∏–≥—Ä–∞—Ü–∏–∏)

### WhatsApp –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

* Green API
* –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —á–∞—Ç-–±–æ—Ç–∞ (—Å—Å—ã–ª–∫–∞ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞):
  `https://github.com/green-api/whatsapp-chatbot-python`
